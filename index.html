<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surrounded by Selectors</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100%;
            margin: 0;
            padding: 20px;
            color: white;
            overflow-y: auto;
            background: url('Render.png') no-repeat center center fixed;
            background-size: cover; /* Ensure background covers the entire container */
        }
        model-viewer {
            width: 100%; /* Full width on all screen sizes */
            height: 50vh; /* Adjust height as necessary */
            margin-bottom: 10px; /* Reduce margin for smaller screens */
        }
        .ar-button {
            background-color: black;
            color: white;
            padding: 15px 30px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 20px;
        }
        .ar-button:hover {
            background-color: white;
            color: black;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            transform: scale(1.1);
        }
        #display-text {
            text-align: center;
            margin-bottom: 20px;
            font-size: 16px;
            max-width: 70%;
            line-height: 1.2;
        }
        #display-text small {
            font-size: 80%;
        }
        #audio-player {
            margin-bottom: 20px;
        }
        #play-button {
            background-color: #1a1c1a;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
        }
        #play-button:hover {
            background-color: #2d2f30;
        }
        #instagram-link {
            margin-top: 20px;
            text-align: center;
        }
        
        /* Media Query for Tablets and Mobile */
        @media (max-width: 768px) {
            body {
                padding: 10px; /* Adjusted padding for smaller screens */
            }
            #display-text {
                font-size: 14px; /* Smaller font size for readability */
                max-width: 90%; /* Adjusted width for smaller screens */
            }
            model-viewer {
                height: 40vh; /* Reduced height for smaller screens */
            }
        }
    </style>
</head>
<body>
    <model-viewer id="model-viewer"
                  src="Buehne.glb"
                  ios-src="Buehne.usdz"
                  alt="3D Model of The Portal"
                  ar
                  ar-modes="webxr scene-viewer quick-look"
                  environment-image="neutral"
                  auto-rotate
                  camera-controls
                  animation-name="CubeAction"
                  animation-loop>
    </model-viewer>

    <button class="ar-button" id="ar-button" onclick="activateAR()">Open AR-Model</button>

    <audio id="audio-player">
        <source src="Buehneaudio.ogg" type="audio/ogg">
        <source src="Buehneaudio.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <button id="play-button">Play audio first</button>

    <p id="display-text">
        Bald ists vorüber und der Erde geb ich,<br><br>

        Der ewgen Sonne die Atome wieder,<br><br>

        Die sich zu Schmerz und Lust in mir gefügt –<br><br>

        Und von dem mächtgen Talbot, der die Welt<br><br>

        Mit seinem Kriegsruhm füllte, bleibt nichts übrig,<br><br>

        Als eine Handvoll leichten Staubs. – So geht<br><br>

        Der Mensch zu Ende – und die einzige<br><br>

        Ausbeute, die wir aus dem Kampf des Lebens<br><br>

        Wegtragen, ist die Einsicht in das Nichts,<br><br>

        Und herzliche Verachtung alles dessen,<br><br>

        Was uns erhaben schien und wünschenswert –<br><br>

        <small style="font-size: 15px;">Friedrich Schiller: Die Jungfrau von Orleans</small>
    </p>

    <p id="display-text">
        Dieses Bühnenmodell im Maßstab 1 zu 30, ist im Kurs Inszenierte Raüme bei Natalia Stachon entstanden. 
        Es ist insperiert von einem Ausschnitt aus Friedrich Schillers: Die Jnugfrau von Orleans.
        Dieses AR Modell soll helfen die eigentlichen Maßstäbe des Entwurfes zu verstehen. 
        Um die bestmögliche Erfahrung mit dem Modell zu haben ist es zu empfehlen es draußen oder 
        in eiem großen Raum darzustellen. Das AR-Modell hat einen Umfang von 14 Quadratmetern. 
        Sollte dies aber nicht möglich sein kann man nach dem Öffnen die skalierung mit 2 Fingern justieren. 

        <small style="font-size: 15px;">Friedrich Schiller: Die Jungfrau von Orleans</small>
    </p>
    
    <a id="instagram-link" href="https://www.instagram.com/leonkoeroesi/" target="_blank">
        <img src="instagram.png" alt="Instagram Profile" width="50" height="50">
    </a>

    <script>
        document.getElementById('play-button').addEventListener('click', function() {
            const audio = document.getElementById('audio-player');
            if (audio.paused) {
                audio.play();
                this.textContent = 'Pause';
            } else {
                audio.pause();
                this.textContent = 'Play';
            }
        });

        async function checkARCoreCompatibility() {
            const modelViewer = document.getElementById('model-viewer');
            const isARCoreSupported = await navigator.xr.isSessionSupported('immersive-ar');
            if (!isARCoreSupported) {
                modelViewer.removeAttribute('ar');
                modelViewer.removeAttribute('ar-modes');
                document.getElementById('ar-button').style.display = 'none';
                alert('Your device is not compatible with AR features. You can still view the 3D model.');
            }
        }

        function activateAR() {
            const modelViewer = document.getElementById('model-viewer');
            modelViewer.activateAR();
        }

        document.addEventListener('DOMContentLoaded', checkARCoreCompatibility);
    </script>
</body>
</html>
